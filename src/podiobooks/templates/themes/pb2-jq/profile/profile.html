{% extends "base.html" %}
{% load avatar_tags %}
{% load title_templatetags %}
{% block headtitle %}Podiobooks User Profile{% endblock %}
{% block head %}
<style type="text/css" media="screen">
    dl.table-display {
        float: left;
        width: 520px;
        margin: 1em 0;
        padding: 0;
        border-bottom: 1px solid #999;
    }
    
    .table-display dt {
        clear: left;
        float: left;
        width: 200px;
        margin: 0;
        padding: 5px;
        border-top: 1px solid #999;
        font-weight: bold;
    }
    
    .table-display dd {
        float: left;
        width: 300px;
        margin: 0;
        padding: 5px;
        border-top: 1px solid #999;
    }
</style>
{% endblock %}
{% block title %}Podiobooks User Profile{% endblock %}
{% block content %}

{% if msg %}
<p class="error">
	{% if msg = 'notsubscribed' %}
		You are not subscribed to {{ title_released }} you tried to release episodes of. <a href="{% url title_subscribe title_released %}">Subscribe?</a>
	{% endif %}
	{% if msg = 'nomoreepisodes' %}
		There are no more episodes of {{ title_released }} to release.
	{% endif %}
</p>
{% endif %}

{% if title_subscription_added %}
{% if title_already_subscribed %}<h3>Hi, looks like you are already subscribed to "{{ title_subscription_added.title.name }}".</h3>
{% else %}
<h3>Thanks for {% if title_resubscribed %}Re-{% endif %}Subscribing to "{{ title_subscription_added.title.name }}"!</h3>
{% endif %}
{% endif %}

{% if title_subscription_removed %}
{% if title_not_subscribed %}<h3>Hi, looks like you weren't actively subscribed to "{{ title_subscription_removed.name }}".</h3>
{% else %}<h3>You've been unsubscribed from "{{ title_subscription_removed.name }}".</h3>
{% endif %}
{% endif %}

{% if title_subscription_one_released %}
<h3>You've released one more episode of "{{ title_subscription_one_released.title.name }}" into your custom feed.</h3>
{% endif %}

{% if title_subscription_all_released %}
<h3>You've released all episodes of "{{ title_subscription_all_released.title.name }}" into your custom feed.</h3>
{% endif %}

<dl class="table-display">
    <dt>
        Username:
    </dt>
    <dd>
        {{ user.username }}&nbsp;
    </dd>
    <dt>
        Email:
    </dt>
    <dd>
        {{ user.email }}&nbsp;
    </dd>
    <dt>
        Full Name:
    </dt>
    <dd>
        {{ user.get_full_name }}&nbsp;
    </dd>
    <dt>
        First Name:
    </dt>
    <dd>
        {{ user.first_name }}&nbsp;
    </dd>
    <dt>
        Last Name:
    </dt>
    <dd>
        {{ user.last_name }}&nbsp;
    </dd>
    <dt>
        Staff:
    </dt>
    <dd>
        {% if user.is_staff %}Yes{% else %}No{% endif %}&nbsp;
    </dd>
    <dt>
        Superuser:
    </dt>
    <dd>
        {% if user.is_superuser %}Yes{% else %}No{% endif %}&nbsp;
    </dd>
    <dt>
        Last Login:
    </dt>
    <dd>
        {{ user.last_login }}&nbsp;
    </dd>
    <dt>
        Date Joined:
    </dt>
    <dd>
        {{ user.date_joined }}&nbsp;
    </dd>
    <dt>
        Profile Slug:
    </dt>
    <dd>
        {{ user.get_profile.slug }}&nbsp;
    </dd>
    <dt>
        Avatar (Defaults to Gravatar for your Email Address):
    </dt>
    <dd>
        <img src="{% avatar_url user 65 %}">
    </dd>
</dl>
<div class="pb-float-clear">
</div>
{% show_title_subscriptions user %}
{% endblock %}
